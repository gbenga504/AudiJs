/*!
 * Audi JavaScript Library v1.0
 * author : Anifowoshe Gbenga David @Gad
 * license : MIT
 */
(function(b,a){if(typeof define==="function"&&define.amd){define([],function(){return(b.Audi=a(b))})}else{if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b.document?b.Audi=a(b):function(c){if(!c.document){throw new Error("Audi requires a document to run by default")}return b.Audi=a(c)}}else{b.document?b.Audi=a(b):(function(){throw new Error("Audi requires a document to run by default")})()}}})(typeof window!==undefined?window:this,function(p){var h;var t=p.speechSynthesis;var f=new SpeechSynthesisUtterance();var n="online";var c="en-US";var e="1.0";var b=1;var m=1;var k=1;var u=true;var l;var i="https://translate.google.com/translate_tts?";var r=/^(local)$|^(online)$/i;var a=function(v){console.log(v)};var d=function(w){var v="";w.forEach(function(x){v+=x+"..."});return v};var g=function(w){if(t){var x=w.getVoices();var v=x[0].lang;return v}};var j=function(){if(p.document.getElementById("audiService"+e.replace(".",""))==null){var v=new p.Audio();v.setAttribute("id","audiService"+e.replace(".",""));p.document.body.appendChild(v);l=v}};var s=function(){a("Audi.js (v"+e+") launched")};var q=function(w,v,y,x,z){if(/^(local)$/.test(y.AudioType)){f[w]=function(){x!==undefined&&x!==null&&typeof(x)=="string"?a(x):a("");if(z!==null&&z!==undefined&&typeof z=="function"){z()}else{if(z!==null&&z!==undefined&&typeof z!=="function"){a("WARNING %e% :: A function callback is required")}}}}else{l.addEventListener(v,function(){x!==undefined&&x!==null&&typeof(x)=="string"?a(x):a("");if(z!==null&&z!==undefined&&typeof z=="function"){z()}else{if(z!==null&&z!==undefined&&typeof z!=="function"){a("WARNING %e% :: A function callback is required")}}})}};var o=function(w){var v=[];if(/^(local)$/.test(w.AudioType)){var x=t.getVoices();x.forEach(function(y){if(v.indexOf(y.lang)==-1){v.push(y.lang)}})}else{v=["en-US","ja","es-ES","ru","ar-EG"]}return v};h=function(v,w){if(!r.test(v)){a("Audio type not correctly set {onlin | local} required>> SWITCHED TO ONLINE BY DEFAULT");this.AudioType=n;j();c=w!==undefined&&w!==null?w:c}else{if(/^(local)$/.test(v)){if(!t){throw new Error("Your browser does not support Audi(Local), /nuse online Audio Type for a wide range of browser support");u=false;return}else{this.AudioType=v;c=g(t)}}else{this.AudioType=v;j();c=w!==undefined&&w!==null?w:c}}};h.prototype.__defineGetter__("volume",function(){return k});h.prototype.__defineGetter__("paused",function(){if(/^(local)$/.test(this.AudioType)){return t.paused}else{return l.pause}});h.prototype.__defineGetter__("speaking",function(){if(/^(local)$/.test(this.AudioType)){return t.paused}else{return !l.paused}});h.prototype.__defineSetter__("volume",function(v){var w=parseFloat(v);if(w){k=w}else{a("Volume not set::>> REASON an entity which is not a number or float was assigned to volume")}});h.prototype.__defineGetter__("rate",function(){return b});h.prototype.__defineSetter__("rate",function(w){if(/^(local)$/.test(this.AudioType)){var v=parseFloat(w);if(v){b=v}else{a("Rate not set::>> REASON an entity which is not a number or float type was assigned to rate")}}else{}});h.prototype.__defineGetter__("pitch",function(){return m});h.prototype.__defineSetter__("pitch",function(w){if(/^(local)$/.test(this.AudioType)){var v=parseFloat(w);if(v){m=v}else{a("Pitch not set::>> REASON an entity which is not a number or float type was assigned to pitch")}}else{}});h.prototype.__defineGetter__("lang",function(){return c});h.prototype.__defineSetter__("lang",function(v){if(typeof v=="string"){c=v}else{a("Language not set!! cannot set language.. Make sure language is of type STRING")}});h.prototype.__defineGetter__("getLangList",function(){return o(this)});h.prototype.toArray=function(w,v){if(typeof w!=="string"){a("WARNING %e% :: Invalid Object type supplied, Require:: String");return}else{v=v!==undefined?v:" ";return w.split(v)}};h.prototype.onstart=function(v,x){var w=this;q("onstart","canplaythrough",w,v,x)};h.prototype.onend=function(v,x){var w=this;q("onend","ended",w,v,x)};h.prototype.onpause=function(v,x){var w=this;q("onpause","pause",w,v,x)};h.prototype.start=function(v){if(/^(local)$/.test(this.AudioType)){f.text=v;f.pitch=m;f.rate=b;f.volume=k;f.lang=c;t.speak(f)}else{l.volume=k;var w=i+"?tl="+c+"&q="+v;l.setAttribute("src",w);l.play()}};h.prototype.pause=function(){if(/^(local)$/.test(this.AudioType)){t.pause()}else{l.pause()}};h.prototype.resume=function(){if(/^(local)$/.test(this.AudioType)){t.resume()}else{l.play()}};h.prototype.stop=function(){if(/^(local)$/.test(this.AudioType)){t.cancel()}else{l.pause();l.currentTime=0}};h.prototype.read=function(v,w){if(typeof v=="string"&&v!==undefined&&v!==null){this.start(v);if(w&&typeof w=="function"){this.onend(null,w)}f=new SpeechSynthesisUtterance()}else{if(typeof v!==string){throw new Error("Audi needs to take a message of type >> STRING")}else{}}};h.prototype.dictate=function(x,w){if(typeof x=="object"&&x instanceof Array){var v=d(x);this.start(v);if(w&&typeof w=="function"){this.onend(null,w)}f=new SpeechSynthesisUtterance()}else{a("WARNING %e% :: Invalid object type supplied, Require:: Array");return}};s(this);return h});