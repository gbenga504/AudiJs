!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],function(){return a.Audi=b(a)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?a.Audi=b(a):function(c){if(!c.document)throw new Error("Audi requires a document to run by default");return a.Audi=b(c)}:a.document?a.Audi=b(a):function(){throw new Error("Audi requires a document to run by default")}()}(void 0!==typeof window?window:this,function(a){var b,l,c=a.speechSynthesis,d=new SpeechSynthesisUtterance,e="online",f="en-US",g="1.0",h=1,i=1,j=1,m="https://translate.google.com/translate_tts?",n=/^(local)$|^(online)$/i,o=function(a){console.log(a)},p=function(a){var b="";return a.forEach(function(a){b+=a+"..."}),b},q=function(a){if(c){var b=a.getVoices(),d=void 0==b[0]?"en-US":b[0].lang;return d}},r=function(){if(null==a.document.getElementById("audiService"+g.replace(".",""))){var b=new a.Audio;b.setAttribute("id","audiService"+g.replace(".","")),a.document.body.appendChild(b),l=b}},s=function(){o("Audi.js (v"+g+") launched")},t=function(a,b,c,e,f){/^(local)$/.test(c.AudioType)?d[a]=function(){o(void 0!==e&&null!==e&&"string"==typeof e?e:""),null!==f&&void 0!==f&&"function"==typeof f?f():null!==f&&void 0!==f&&"function"!=typeof f&&o("WARNING %e% :: A function callback is required")}:l.addEventListener(b,function(){o(void 0!==e&&null!==e&&"string"==typeof e?e:""),null!==f&&void 0!==f&&"function"==typeof f?f():null!==f&&void 0!==f&&"function"!=typeof f&&o("WARNING %e% :: A function callback is required")})},u=function(a){var b=[];if(/^(local)$/.test(a.AudioType)){var d=c.getVoices();d.forEach(function(a){b.indexOf(a.lang)==-1&&b.push(a.lang)})}else b=["en-US","ja","es-ES","ru","ar-EG"];return b};return b=function(a,b){if(n.test(a))if(/^(local)$/.test(a)){if(!c)throw new Error("Your browser does not support Audi(Local), /nuse online Audio Type for a wide range of browser support");this.AudioType=a,f=q(c)}else this.AudioType=a,r(),f=void 0!==b&&null!==b?b:f;else o("Audio type not correctly set {onlin | local} required>> SWITCHED TO ONLINE BY DEFAULT"),this.AudioType=e,r(),f=void 0!==b&&null!==b?b:f},b.prototype.__defineGetter__("volume",function(){return j}),b.prototype.__defineGetter__("paused",function(){return/^(local)$/.test(this.AudioType)?c.paused:l.pause}),b.prototype.__defineGetter__("speaking",function(){return/^(local)$/.test(this.AudioType)?c.paused:!l.paused}),b.prototype.__defineSetter__("volume",function(a){var b=parseFloat(a);b?j=b:o("Volume not set::>> REASON an entity which is not a number or float was assigned to volume")}),b.prototype.__defineGetter__("rate",function(){return h}),b.prototype.__defineSetter__("rate",function(a){if(/^(local)$/.test(this.AudioType)){var b=parseFloat(a);b?h=b:o("Rate not set::>> REASON an entity which is not a number or float type was assigned to rate")}}),b.prototype.__defineGetter__("pitch",function(){return i}),b.prototype.__defineSetter__("pitch",function(a){if(/^(local)$/.test(this.AudioType)){var b=parseFloat(a);b?i=b:o("Pitch not set::>> REASON an entity which is not a number or float type was assigned to pitch")}}),b.prototype.__defineGetter__("lang",function(){return f}),b.prototype.__defineSetter__("lang",function(a){"string"==typeof a?f=a:o("Language not set!! cannot set language.. Make sure language is of type STRING")}),b.prototype.__defineGetter__("getLangList",function(){return u(this)}),b.prototype.toArray=function(a,b){return"string"!=typeof a?void o("WARNING %e% :: Invalid Object type supplied, Require:: String"):(b=void 0!==b?b:" ",a.split(b))},b.prototype.onstart=function(a,b){var c=this;t("onstart","canplaythrough",c,a,b)},b.prototype.onend=function(a,b){var c=this;t("onend","ended",c,a,b)},b.prototype.onpause=function(a,b){var c=this;t("onpause","pause",c,a,b)},b.prototype.start=function(a){if(/^(local)$/.test(this.AudioType))d.text=a,d.pitch=i,d.rate=h,d.volume=j,d.lang=f,c.speak(d);else{l.volume=j;var b=m+"?tl="+f+"&q="+a;l.setAttribute("src",b),l.play()}},b.prototype.pause=function(){/^(local)$/.test(this.AudioType)?c.pause():l.pause()},b.prototype.resume=function(){/^(local)$/.test(this.AudioType)?c.resume():l.play()},b.prototype.stop=function(){/^(local)$/.test(this.AudioType)?c.cancel():(l.pause(),l.currentTime=0)},b.prototype.read=function(a,b){if("string"==typeof a&&void 0!==a&&null!==a)this.start(a),b&&"function"==typeof b&&this.onend(null,b),d=new SpeechSynthesisUtterance;else if(typeof a!==string)throw new Error("Audi needs to take a message of type >> STRING")},b.prototype.dictate=function(a,b){if(!("object"==typeof a&&a instanceof Array))return void o("WARNING %e% :: Invalid object type supplied, Require:: Array");var c=p(a);this.start(c),b&&"function"==typeof b&&this.onend(null,b),d=new SpeechSynthesisUtterance},s(this),b});